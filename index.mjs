// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.2.2-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import{factory as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@v0.2.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.3-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-unity-probability-array@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";function c(e,r,t){var s,i,n,o;for(n=e.length,i=new Array(r),o=0;o<r;o++)s=l(n*t()),i[o]=e[s];return i}var v=Array.prototype.slice;function j(e,r,t){var s,i,n;for(i=e.length-1;i>0;i--)n=l(t()*(i+1)),s=e[i],e[i]=e[n],e[n]=s;return v.call(e,0,r)}var u={mutate:!1,replace:!0};function g(e,r){return f(r)?m(r,"size")&&(e.size=r.size,!a(e.size))?new TypeError(i("0qd2t","size",e.size)):m(r,"probs")&&(e.probs=r.probs,!p(e.probs))?new TypeError(i("0qd7l","probs",e.probs)):m(r,"mutate")&&(e.mutate=r.mutate,!h(e.mutate))?new TypeError(i("0qd2o","mutate",e.mutate)):m(r,"replace")&&(e.replace=r.replace,!h(e.replace))?new TypeError(i("0qd2o","replace",e.replace)):null:new TypeError(i("0qd2V",r))}var b=Array.prototype.slice;function y(){var a,p,m,h,f,v;if(m=o(u),1===arguments.length)r(arguments[0])||t(arguments[0])?p=arguments[0]:f=g(m,a=arguments[0]);else if(arguments.length>1){if(a=arguments[1],!r(p=arguments[0])&&!t(p))throw new TypeError(i("0qd7i","pool",p));f=g(m,a)}if(f)throw f;return h=a&&a.seed?n({seed:a.seed}):n(),void 0===p?v=function(e,n){var o,a,p,f,v;if(!r(e)&&!t(e))throw new TypeError(i("0qd38",e));s(e)&&(e=e.split(""));if(p={},arguments.length>1&&(v=g(p,n)))throw v;o=void 0===p.replace?m.replace:p.replace;void 0!==p.probs&&(a=p.probs);f=p.size?p.size:m.size?m.size:e.length;if(!1===o&&f>e.length)throw new RangeError(i("0qdEG",f));if(a)return o?function(e,r,t,s){var i,n,o,d,a,p,m,h,f,c;for(o=s.slice(),p=e.length,i=[],n=[],f=0;f<p;f++)o[f]*=p,o[f]<1?i.push(f):n.push(f);for(d=new Array(p),m=new Array(p);0!==i.length&&0!==n.length;)c=i.shift(),h=n.shift(),m[c]=o[c],d[c]=h,o[h]=o[h]+o[c]-1,o[h]<1?i.push(h):n.push(h);for(f=0;f<n.length;f++)m[n[f]]=1;for(f=0;f<i.length;f++)m[i[f]]=1;for(a=new Array(r),f=0;f<r;f++)c=l(p*t()),t()<m[c]?a[f]=e[c]:a[f]=e[d[c]];return a}(e,f,h,a):function(e,r,t,s){var i,n,o,l,a,p,m,h;for(l=e.length,i=d(s),o=[],a=0;a<r;a++){for(h=t(),n=0,p=0;p<l&&!(h<(n+=i[p]));p++);for(m=0;m<l;m++)m!==p&&(i[m]/=1-i[p]);i[p]=0,o.push(e[p])}return o}(e,f,h,a);if(o)return c(e,f,h);return j(b.call(e),f,h)}:(p=s(p)?p.split(""):o(p),v=function(e){var r,t,s,n,o,l;if(0===p.length)return null;if(s={},arguments.length&&(o=g(s,e)))throw o;t=void 0===s.mutate?m.mutate:s.mutate;r=void 0===s.replace?m.replace:s.replace;n=s.size?s.size:m.size?m.size:p.length;if(!1===r&&n>p.length)throw new RangeError(i("0qdEH",n));if(r)return c(p,n,h);l=j(p,n,h),t&&(p=p.slice(n,p.length));return l}),e(v,"seed",h.seed),e(v,"PRNG",h),h=h.normalized,v}var w=y();e(w,"factory",y);export{w as default,y as factory};
//# sourceMappingURL=index.mjs.map
