// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.1.0-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.0-esm/index.mjs";import{factory as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@v0.1.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-unity-probability-array@v0.1.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.0-esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.1.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";function f(e,r,t){var s,i,n,o;for(n=e.length,i=new Array(r),o=0;o<r;o++)s=l(n*t()),i[o]=e[s];return i}function c(e,r,t,s){var i,n,o,l,a,d,p,m;for(l=e.length,i=new Array(l),a=0;a<l;a++)i[a]=s[a];for(o=new Array(r),a=0;a<r;a++){for(m=t(),n=0,d=0;d<l&&!(m<(n+=i[d]));d++);for(p=0;p<l;p++)p!==d&&(i[p]/=1-i[d]);i[d]=0,o[a]=e[d]}return o}var v=Array.prototype.slice;function j(e,r,t){var s,i,n;for(i=e.length-1;i>0;i--)n=l(t()*(i+1)),s=e[i],e[i]=e[n],e[n]=s;return v.call(e,0,r)}function u(e,r,t,s){var i,n,o,a,d,p,m,h,f,c;for(o=s.slice(),p=e.length,i=[],n=[],f=0;f<p;f++)o[f]*=p,o[f]<1?i.push(f):n.push(f);for(a=new Array(p),m=new Array(p);0!==i.length&&0!==n.length;)c=i.shift(),h=n.shift(),m[c]=o[c],a[c]=h,o[h]=o[h]+o[c]-1,o[h]<1?i.push(h):n.push(h);for(f=0;f<n.length;f++)m[n[f]]=1;for(f=0;f<i.length;f++)m[i[f]]=1;for(d=new Array(r),f=0;f<r;f++)c=l(p*t()),t()<m[c]?d[f]=e[c]:d[f]=e[a[c]];return d}var g={mutate:!1,replace:!0};function y(e,r){return h(r)?p(r,"size")&&(e.size=r.size,!a(e.size))?new TypeError(i("0qd2t,G9","size",e.size)):p(r,"probs")&&(e.probs=r.probs,!d(e.probs))?new TypeError(i("0qd7l,NG","probs",e.probs)):p(r,"mutate")&&(e.mutate=r.mutate,!m(e.mutate))?new TypeError(i("0qd2o,GE","mutate",e.mutate)):p(r,"replace")&&(e.replace=r.replace,!m(e.replace))?new TypeError(i("0qd2o,GE","replace",e.replace)):null:new TypeError(i("0qd2V,FD",r))}var b=Array.prototype.slice;function w(){var l,a,d,p,m,h;if(d=o(g),1===arguments.length)r(arguments[0])||t(arguments[0])?a=arguments[0]:m=y(d,l=arguments[0]);else if(arguments.length>1){if(l=arguments[1],!r(a=arguments[0])&&!t(a))throw new TypeError(i("0qd7i,ND","pool",a));m=y(d,l)}if(m)throw m;return p=l&&l.seed?n({seed:l.seed}):n(),void 0===a?h=v:(a=s(a)?a.split(""):o(a),h=w),e(h,"seed",p.seed),e(h,"PRNG",p),p=p.normalized,h;function v(e,n){var o,l,a,m,h;if(!r(e)&&!t(e))throw new TypeError(i("0qd38,Iu",e));if(s(e)&&(e=e.split("")),a={},arguments.length>1&&(h=y(a,n)))throw h;if(o=void 0===a.replace?d.replace:a.replace,void 0!==a.probs&&(l=a.probs),m=a.size?a.size:d.size?d.size:e.length,!1===o&&m>e.length)throw new RangeError(i("0qdNE",m));return l?o?u(e,m,p,l):c(e,m,p,l):o?f(e,m,p):j(b.call(e),m,p)}function w(e){var r,t,s,n,o,l;if(0===a.length)return null;if(s={},arguments.length&&(o=y(s,e)))throw o;if(t=void 0===s.mutate?d.mutate:s.mutate,r=void 0===s.replace?d.replace:s.replace,n=s.size?s.size:d.size?d.size:a.length,!1===r&&n>a.length)throw new RangeError(i("0qdNF",n));return r?f(a,n,p):(l=j(a,n,p),t&&(a=a.slice(n,a.length)),l)}}var z=w();e(z,"factory",w);export{z as default,w as factory};
//# sourceMappingURL=index.mjs.map
