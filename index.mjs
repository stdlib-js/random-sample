// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import{factory as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-mt19937@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-unity-probability-array@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import{isPrimitive as d}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";function f(e,r,t){var s,i,n,o;for(n=e.length,i=new Array(r),o=0;o<r;o++)s=l(n*t()),i[o]=e[s];return i}function c(e,r,t,s){var i,n,o,l,a,p,m,d;for(l=e.length,i=new Array(l),a=0;a<l;a++)i[a]=s[a];for(o=new Array(r),a=0;a<r;a++){for(d=t(),n=0,p=0;p<l&&!(d<(n+=i[p]));p++);for(m=0;m<l;m++)m!==p&&(i[m]/=1-i[p]);i[p]=0,o[a]=e[p]}return o}var u=Array.prototype.slice;function g(e,r,t){var s,i,n;for(i=e.length-1;i>0;i--)n=l(t()*(i+1)),s=e[i],e[i]=e[n],e[n]=s;return u.call(e,0,r)}function j(e,r,t,s){var i,n,o,a,p,m,d,h,f,c;for(o=s.slice(),m=e.length,i=[],n=[],f=0;f<m;f++)o[f]*=m,o[f]<1?i.push(f):n.push(f);for(a=new Array(m),d=new Array(m);0!==i.length&&0!==n.length;)c=i.shift(),h=n.shift(),d[c]=o[c],a[c]=h,o[h]=o[h]+o[c]-1,o[h]<1?i.push(h):n.push(h);for(f=0;f<n.length;f++)d[n[f]]=1;for(f=0;f<i.length;f++)d[i[f]]=1;for(p=new Array(r),f=0;f<r;f++)c=l(m*t()),t()<d[c]?p[f]=e[c]:p[f]=e[a[c]];return p}var v={mutate:!1,replace:!0};function b(e,r){return h(r)?m(r,"size")&&(e.size=r.size,!a(e.size))?new TypeError(i("0QD35","size",e.size)):m(r,"probs")&&(e.probs=r.probs,!p(e.probs))?new TypeError(i("0QD81","probs",e.probs)):m(r,"mutate")&&(e.mutate=r.mutate,!d(e.mutate))?new TypeError(i("0QD30","mutate",e.mutate)):m(r,"replace")&&(e.replace=r.replace,!d(e.replace))?new TypeError(i("0QD30","replace",e.replace)):null:new TypeError(i("0QD2h",r))}var y=Array.prototype.slice;function w(){var l,a,p,m,d,h;if(p=o(v),1===arguments.length)r(arguments[0])||t(arguments[0])?a=arguments[0]:d=b(p,l=arguments[0]);else if(arguments.length>1){if(l=arguments[1],!r(a=arguments[0])&&!t(a))throw new TypeError(i("invalid argument. `%s` argument must be array-like. Value: `%s`.","pool",a));d=b(p,l)}if(d)throw d;return m=l&&l.seed?n({seed:l.seed}):n(),void 0===a?h=u:(a=s(a)?a.split(""):o(a),h=w),e(h,"seed",m.seed),e(h,"PRNG",m),m=m.normalized,h;function u(e,n){var o,l,a,d,h;if(!r(e)&&!t(e))throw new TypeError(i("0QD3K",e));if(s(e)&&(e=e.split("")),a={},arguments.length>1&&(h=b(a,n)))throw h;if(o=void 0===a.replace?p.replace:a.replace,void 0!==a.probs&&(l=a.probs),d=a.size?a.size:p.size?p.size:e.length,!1===o&&d>e.length)throw new RangeError(i("invalid option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `%s`.",d));return l?o?j(e,d,m,l):c(e,d,m,l):o?f(e,d,m):g(y.call(e),d,m)}function w(e){var r,t,s,n,o,l;if(0===a.length)return null;if(s={},arguments.length&&(o=b(s,e)))throw o;if(t=void 0===s.mutate?p.mutate:s.mutate,r=void 0===s.replace?p.replace:s.replace,n=s.size?s.size:p.size?p.size:a.length,!1===r&&n>a.length)throw new RangeError(i("invalid option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `%s`.",n));return r?f(a,n,m):(l=g(a,n,m),t&&(a=a.slice(n,a.length)),l)}}var z=w();e(z,"factory",w);export{z as default,w as factory};
//# sourceMappingURL=index.mjs.map
